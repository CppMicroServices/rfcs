<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="192px" preserveAspectRatio="none" style="width:925px;height:192px;background:#FFFFFF;" version="1.1" viewBox="0 0 925 192" width="925px" zoomAndPan="magnify"><defs><filter height="300%" id="fc1p57zyhaswv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[77b0ea1454fe7a7546e2e8ed5acd0c75]
entity BE--><rect fill="#FEFECE" filter="url(#fc1p57zyhaswv)" height="37.6094" style="stroke:#000000;stroke-width:1.5;" width="100" x="7" y="8.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="17" y="32.8896">BundleEvent</text><!--MD5=[7050851d0b859af5d78dd8a93741a497]
entity BL--><rect fill="#FEFECE" filter="url(#fc1p57zyhaswv)" height="37.6094" style="stroke:#000000;stroke-width:1.5;" width="115" x="227.5" y="8.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="237.5" y="32.8896">BundleListener</text><!--MD5=[92e1b8d0a4b2a37ccd7fcd96c5dfe02c]
entity TB--><rect fill="#FEFECE" filter="url(#fc1p57zyhaswv)" height="37.6094" style="stroke:#000000;stroke-width:1.5;" width="116" x="478" y="8.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="488" y="32.8896">TrackedBundle</text><!--MD5=[bf47ed657672796465dc76c4ef1ad49d]
entity BAT--><rect fill="#FEFECE" filter="url(#fc1p57zyhaswv)" height="37.6094" style="stroke:#000000;stroke-width:1.5;" width="168" x="745" y="8.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="755" y="32.8896">BundleAbstractTracked</text><!--MD5=[6815a7c98912f1a3feb5ab6a43f68320]
entity BTC--><rect fill="#FEFECE" filter="url(#fc1p57zyhaswv)" height="37.6094" style="stroke:#000000;stroke-width:1.5;" width="183" x="444.5" y="134.8564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="454.5" y="159.3896">BundleTrackerCustomizer</text><path d="M760,124.3564 L760,183.4111 A0,0 0 0 0 760,183.4111 L898,183.4111 A0,0 0 0 0 898,183.4111 L898,134.3564 L888,124.3564 L833,124.3564 L829,46.4564 L825,124.3564 L760,124.3564 A0,0 0 0 0 760,124.3564 " fill="#FBFB77" filter="url(#fc1p57zyhaswv)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M888,124.3564 L888,134.3564 L898,134.3564 L888,124.3564 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="766" y="142.8516">Bundle not in map</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="766" y="159.2031">Entering state mask</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="766" y="175.5547">Increment count</text><!--MD5=[2362f1ef991bbeef86520282c353631e]
link BE to BL--><path d="M107.04,27.3564 C140.89,27.3564 185.88,27.3564 222.16,27.3564 " fill="none" id="BE-to-BL" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="227.44,27.3564,218.44,23.3564,222.44,27.3564,218.44,31.3564,227.44,27.3564" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="125.25" y="20.8516">Intercept event</text><!--MD5=[55c3e068c1f8961ed2fb97aa58d44eac]
link BL to TB--><path d="M342.58,27.3564 C381.37,27.3564 432.54,27.3564 472.5,27.3564 " fill="none" id="BL-to-TB" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="477.81,27.3564,468.81,23.3564,472.81,27.3564,468.81,31.3564,477.81,27.3564" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="360.75" y="20.8516">BundleChanged()</text><!--MD5=[cacacb7581613e5b42688c4f9585ce2a]
link TB to BAT--><path d="M594.1,40.3164 C611.5,43.6264 630.69,46.7064 648.5,48.3564 C678.2,51.1064 710.57,48.9564 739.6,45.1564 " fill="none" id="TB-to-BAT" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="744.6,44.4864,735.1524,41.7039,739.6434,45.1435,736.2037,49.6345,744.6,44.4864" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40" x="649.5" y="44.8516">Track()</text><!--MD5=[de68e8184bd64218e2c79e24a1b0d28a]
reverse link TB to BAT--><path d="M599.36,27.3564 C641.91,27.3564 698.45,27.3564 744.78,27.3564 " fill="none" id="TB-backto-BAT" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="594.24,27.3564,603.24,31.3564,599.24,27.3564,603.24,23.3564,594.24,27.3564" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="612.5" y="20.8516">CustomizerAdding()</text><!--MD5=[94eec27b364eedefe4260f9931564d8a]
link TB to BTC--><path d="M536,46.4564 C536,68.4064 536,105.4264 536,129.5064 " fill="none" id="TB-to-BTC" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="536,134.7264,540,125.7264,536,129.7264,532,125.7264,536,134.7264" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="537" y="90.8516">AddingBundle()</text><!--MD5=[43f92e0b2801c50b86bcef99a970e2c2]
@startuml addbundle_diagram

rectangle "BundleEvent" as BE
rectangle "BundleListener" as BL
'rectangle "BundleTracker" as BT
'rectangle "BundleTrackerPrivate" as BTP
rectangle "TrackedBundle" as TB
'rectangle "BundleContext" as BC
rectangle "BundleAbstractTracked" as BAT
rectangle "BundleTrackerCustomizer" as BTC

BE -> BL : Intercept event
BL -> TB : BundleChanged()
TB -> BAT : Track()
TB <- BAT: CustomizerAdding()
TB -d-> BTC : AddingBundle()

note bottom of BAT : Bundle not in map\nEntering state mask\nIncrement count

@enduml

@startuml addbundle_diagram

rectangle "BundleEvent" as BE
rectangle "BundleListener" as BL
rectangle "TrackedBundle" as TB
rectangle "BundleAbstractTracked" as BAT
rectangle "BundleTrackerCustomizer" as BTC

BE -> BL : Intercept event
BL -> TB : BundleChanged()
TB -> BAT : Track()
TB <- BAT: CustomizerAdding()
TB -d-> BTC : AddingBundle()

note bottom of BAT : Bundle not in map\nEntering state mask\nIncrement count

@enduml

PlantUML version 1.2022.0(Tue Jan 11 11:16:42 EST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>