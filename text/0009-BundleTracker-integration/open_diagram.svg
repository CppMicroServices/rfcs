<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="253px" preserveAspectRatio="none" style="width:1059px;height:253px;background:#FFFFFF;" version="1.1" viewBox="0 0 1059 253" width="1059px" zoomAndPan="magnify"><defs/><g><!--MD5=[0ba5ee7700168656dc1b457c6fe9fdac]
entity Client--><g id="elem_Client"><ellipse cx="24" cy="62.8564" fill="#F1F1F1" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M24,70.8564 L24,97.8564 M11,78.8564 L37,78.8564 M24,97.8564 L11,112.8564 M24,97.8564 L37,112.8564 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="6" y="128.8896">Client</text></g><!--MD5=[12e922f5689a4b39af25c0eb21e26788]
entity BT--><g id="elem_BT"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113" x="132.5" y="74.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="142.5" y="98.8896">BundleTracker</text></g><!--MD5=[ab76d8afd5a3119a5a6b337bb0f5ab81]
entity BTP--><g id="elem_BTP"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="157" x="97.5" y="210.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="107.5" y="234.8896">BundleTrackerPrivate</text></g><!--MD5=[92e1b8d0a4b2a37ccd7fcd96c5dfe02c]
entity TB--><g id="elem_TB"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="367" y="74.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="377" y="98.8896">TrackedBundle</text></g><!--MD5=[78be0622f0aca91e0dae736fd52d3ffb]
entity BC--><g id="elem_BC"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="941" y="74.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="951" y="98.8896">BundleContext</text></g><!--MD5=[bf47ed657672796465dc76c4ef1ad49d]
entity BAT--><g id="elem_BAT"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="436" y="210.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="446" y="234.8896">BundleAbstractTracked</text></g><!--MD5=[6815a7c98912f1a3feb5ab6a43f68320]
entity BTC--><g id="elem_BTC"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="183" x="722.5" y="74.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="732.5" y="98.8896">BundleTrackerCustomizer</text></g><!--MD5=[6d60a2609ab0a1c9580d799ef3a81eb5]
link Client to BT--><g id="link_Client_BT"><path d="M42.29,93.3564 C62.75,93.3564 97.01,93.3564 127.28,93.3564 " fill="none" id="Client-to-BT" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="132.49,93.3564,123.49,89.3564,127.49,93.3564,123.49,97.3564,132.49,93.3564" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="60.25" y="86.8516">1: Open()</text></g><!--MD5=[64984962add78f2f1b6afe3f4f5c04c7]
link BT to BC--><g id="link_BT_BC"><path d="M245.84,78.6864 C276.34,71.0264 314.62,61.7364 349,54.3564 C349,54.3564 923,54.3564 923,54.3564 C938.09,59.1264 953.75,66.9064 966.75,74.2664 " fill="none" id="BT-BC" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="538.5" y="20.8516">2: Register listener</text></g><!--MD5=[e5dfefe2355735b78cd24f5ffe12f6ba]
link BT to BTP--><g id="link_BT_BTP"><path d="M183.49,112.6264 C179.69,126.1964 174.99,145.2464 173,162.3564 C172.08,170.3064 172.75,172.3564 173,180.3564 C173.25,188.3564 173.73,197.0964 174.24,204.9064 " fill="none" id="BT-to-BTP" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="174.59,210.1364,177.9631,200.8832,174.247,205.1482,169.982,201.4321,174.59,210.1364" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="207" x="174" y="176.8516">3: Store listener and TrackedBundle</text></g><!--MD5=[a2531f00426be942fe55c529d6d7a04e]
link BT to TB--><g id="link_BT_TB"><path d="M245.53,93.3564 C280.49,93.3564 325.44,93.3564 361.61,93.3564 " fill="none" id="BT-to-TB" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="366.88,93.3564,357.88,89.3564,361.88,93.3564,357.88,97.3564,366.88,93.3564" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="263.75" y="86.8516">4: TrackInitial()</text></g><!--MD5=[cacacb7581613e5b42688c4f9585ce2a]
link TB to BAT--><g id="link_TB_BAT"><path d="M417.48,112.6864 C411.18,131.2264 405.08,159.9964 418,180.3564 C425.47,192.1264 436.69,201.0664 448.98,207.8364 " fill="none" id="TB-to-BAT" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="453.55,210.2364,447.4456,202.5075,449.1245,207.9095,443.7225,209.5883,453.55,210.2364" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="419" y="176.8516">5: Track() on new bundles</text></g><!--MD5=[fa316361f97ac789e93be1e306990b42]
link BAT to TB--><g id="link_BAT_TB"><path d="M552.81,210.1164 C571.16,197.4364 588.28,179.7664 577,162.3564 C557.37,132.0764 520.75,115.1564 488.37,105.7664 " fill="none" id="BAT-to-TB" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="483.21,104.3264,490.8044,110.5974,488.0262,105.6698,492.9538,102.8916,483.21,104.3264" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="581" y="176.8516">6: CustomizerAdding() on new bundles</text></g><!--MD5=[94eec27b364eedefe4260f9931564d8a]
link TB to BTC--><g id="link_TB_BTC"><path d="M483.24,93.3564 C545.02,93.3564 643.67,93.3564 717.18,93.3564 " fill="none" id="TB-to-BTC" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="722.43,93.3564,713.43,89.3564,717.43,93.3564,713.43,97.3564,722.43,93.3564" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="501.25" y="86.8516">7: Call user-defined AddingBundle()</text></g><!--MD5=[c00566882a3f0a3577c87491488a934b]
@startuml open_diagram
:Client: as Client

rectangle "BundleTracker" as BT
rectangle "BundleTrackerPrivate" as BTP
rectangle "TrackedBundle" as TB
rectangle "BundleContext" as BC
rectangle "BundleAbstractTracked" as BAT
rectangle "BundleTrackerCustomizer" as BTC

Client -> BT : 1: Open()
BT - BC : 2: Register listener
BT -d-> BTP : 3: Store listener and TrackedBundle
BT -> TB : 4: TrackInitial()
TB -d-> BAT : 5: Track() on new bundles
BAT -> TB : 6: CustomizerAdding() on new bundles
TB -> BTC : 7: Call user-defined AddingBundle()

@enduml

PlantUML version 1.2022.5(Sat Apr 30 06:55:52 EDT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>