<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="190px" preserveAspectRatio="none" style="width:977px;height:190px;background:#FFFFFF;" version="1.1" viewBox="0 0 977 190" width="977px" zoomAndPan="magnify"><defs/><g><!--MD5=[77b0ea1454fe7a7546e2e8ed5acd0c75]
entity BE--><g id="elem_BE"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="7" y="8.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="17" y="32.8896">BundleEvent</text></g><!--MD5=[7050851d0b859af5d78dd8a93741a497]
entity BL--><g id="elem_BL"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="242.5" y="8.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="252.5" y="32.8896">BundleListener</text></g><!--MD5=[92e1b8d0a4b2a37ccd7fcd96c5dfe02c]
entity TB--><g id="elem_TB"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="508" y="8.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96" x="518" y="32.8896">TrackedBundle</text></g><!--MD5=[bf47ed657672796465dc76c4ef1ad49d]
entity BAT--><g id="elem_BAT"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="168" x="803" y="8.3564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="813" y="32.8896">BundleAbstractTracked</text></g><!--MD5=[6815a7c98912f1a3feb5ab6a43f68320]
entity BTC--><g id="elem_BTC"><rect fill="#F1F1F1" height="37.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="183" x="474.5" y="134.8564"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="484.5" y="159.3896">BundleTrackerCustomizer</text></g><g id="elem_GMN12"><path d="M820.5,124.3564 L820.5,183.4111 A0,0 0 0 0 820.5,183.4111 L953.5,183.4111 A0,0 0 0 0 953.5,183.4111 L953.5,134.3564 L943.5,124.3564 L891,124.3564 L887,46.4564 L883,124.3564 L820.5,124.3564 A0,0 0 0 0 820.5,124.3564 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M943.5,124.3564 L943.5,134.3564 L953.5,134.3564 L943.5,124.3564 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="826.5" y="142.8516">Bundle is in map</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="826.5" y="159.2031">Leaving state mask</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="826.5" y="175.5547">Increment count</text></g><!--MD5=[2362f1ef991bbeef86520282c353631e]
link BE to BL--><g id="link_BE_BL"><path d="M107.06,27.3564 C144.68,27.3564 196.49,27.3564 236.95,27.3564 " fill="none" id="BE-to-BL" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="242.33,27.3564,233.33,23.3564,237.33,27.3564,233.33,31.3564,242.33,27.3564" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="125.25" y="20.8516">1: Intercept event</text></g><!--MD5=[55c3e068c1f8961ed2fb97aa58d44eac]
link BL to TB--><g id="link_BL_TB"><path d="M357.72,27.3564 C400.53,27.3564 458.87,27.3564 502.91,27.3564 " fill="none" id="BL-to-TB" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="507.94,27.3564,498.94,23.3564,502.94,27.3564,498.94,31.3564,507.94,27.3564" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="375.75" y="20.8516">2: BundleChanged()</text></g><!--MD5=[cacacb7581613e5b42688c4f9585ce2a]
link TB to BAT--><g id="link_TB_BAT"><path d="M624.14,39.7064 C643.41,43.2464 665.04,46.6064 685,48.3564 C721.83,51.5764 762.37,48.6464 797.41,44.0464 " fill="none" id="TB-to-BAT" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="802.54,43.3564,793.0924,40.5739,797.5834,44.0135,794.1437,48.5045,802.54,43.3564" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="686" y="44.8516">3: Track()</text></g><!--MD5=[de68e8184bd64218e2c79e24a1b0d28a]
reverse link TB to BAT--><g id="link_TB_BAT"><path d="M629.17,27.3564 C678.79,27.3564 748.35,27.3564 802.72,27.3564 " fill="none" id="TB-backto-BAT" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="624.13,27.3564,633.13,31.3564,629.13,27.3564,633.13,23.3564,624.13,27.3564" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="642.5" y="20.8516">4: CustomizerRemoved()</text></g><!--MD5=[94eec27b364eedefe4260f9931564d8a]
link TB to BTC--><g id="link_TB_BTC"><path d="M566,46.4564 C566,68.4064 566,105.4264 566,129.5064 " fill="none" id="TB-to-BTC" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="566,134.7264,570,125.7264,566,129.7264,562,125.7264,566,134.7264" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="567" y="90.8516">5: RemovedBundle()</text></g><!--MD5=[4a53f0e7402655b478912f9760926ef2]
@startuml rembundle_diagram

rectangle "BundleEvent" as BE
rectangle "BundleListener" as BL
'rectangle "BundleTracker" as BT
'rectangle "BundleTrackerPrivate" as BTP
rectangle "TrackedBundle" as TB
'rectangle "BundleContext" as BC
rectangle "BundleAbstractTracked" as BAT
rectangle "BundleTrackerCustomizer" as BTC

BE -> BL : 1: Intercept event
BL -> TB : 2: BundleChanged()
TB -> BAT : 3: Track()
TB <- BAT: 4: CustomizerRemoved()
TB -d-> BTC : 5: RemovedBundle()

note bottom of BAT : Bundle is in map\nLeaving state mask\nIncrement count

@enduml

@startuml rembundle_diagram

rectangle "BundleEvent" as BE
rectangle "BundleListener" as BL
rectangle "TrackedBundle" as TB
rectangle "BundleAbstractTracked" as BAT
rectangle "BundleTrackerCustomizer" as BTC

BE -> BL : 1: Intercept event
BL -> TB : 2: BundleChanged()
TB -> BAT : 3: Track()
TB <- BAT: 4: CustomizerRemoved()
TB -d-> BTC : 5: RemovedBundle()

note bottom of BAT : Bundle is in map\nLeaving state mask\nIncrement count

@enduml

PlantUML version 1.2022.5(Sat Apr 30 06:55:52 EDT 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>